# 后端管理控制台 - 总体设计概览

## 项目简介

为直播系统设计的统一管理控制台，提供主播、观众、直播间、财务、数据分析等业务管理功能，以及Docker容器、日志查询、配置管理等运维功能。

## 核心功能模块

### 1. 业务管理模块
- **主播管理**: 创建、查询、更新主播信息，直播间管理
- **观众管理**: 观众账户管理、打赏记录查询、消费统计
- **直播间管理**: 开播、关播、直播间状态监控
- **财务管理**: 提现审核、结算查询、分成比例配置
- **数据分析**: 各类统计数据、排行榜、收入分析

### 2. 模拟测试模块
- **数据生成**: 批量生成主播、观众、打赏等测试数据
- **批次管理**: 查询和管理已生成的数据批次
- **测试场景**: 模拟直播间活动、打赏行为等

### 3. 运维管理模块
- **部署管理**: 支持Docker、K8s、原生多种部署策略（当前实现Docker）
- **日志查询**: Docker日志和应用日志实时查询
- **服务监控**: 服务健康检查、状态监控
- **配置管理**: 动态修改各服务配置文件

### 4. 环境配置模块
- **环境切换**: 开发、测试、生产环境切换
- **服务地址**: 各服务端口和地址配置
- **数据库配置**: MySQL、Redis等连接信息

## 技术架构

### 前端技术栈
- **框架**: Vue 3 + TypeScript
- **UI组件**: Element Plus / Ant Design Vue
- **状态管理**: Pinia
- **路由**: Vue Router
- **HTTP客户端**: Axios
- **图表**: ECharts

### 后端技术栈
- **框架**: Spring Boot 2.7+
- **API聚合**: 调用各业务服务的REST API
- **Docker SDK**: Docker Java API
- **日志收集**: 文件读取 + 日志解析
- **配置管理**: YAML文件读写

### 部署架构
```
┌─────────────────────────────────────────────────┐
│              Frontend (Vue 3)                    │
│         浏览器访问：http://localhost:9000        │
└─────────────────┬───────────────────────────────┘
                  │ HTTP/WebSocket
┌─────────────────▼───────────────────────────────┐
│        Admin Console Service (8090)             │
│  - API聚合层                                     │
│  - Docker管理                                    │
│  - 日志查询                                      │
│  - 配置管理                                      │
└─────────────────┬───────────────────────────────┘
                  │
        ┌─────────┼─────────────────────┐
        │         │                     │
┌───────▼──┐ ┌───▼──────┐ ┌──────────▼──────┐
│ Business │ │  Docker  │ │  Log & Config   │
│ Services │ │  Engine  │ │  Files          │
└──────────┘ └──────────┘ └─────────────────┘
```

## 页面布局设计

### 整体布局
- **顶部导航栏**: Logo、用户信息、环境切换、通知中心
- **左侧浮动菜单**: 可收起的侧边栏，分层级菜单
- **主内容区**: 动态路由页面切换，支持标签页
- **底部状态栏**: 服务连接状态、版本信息

### 菜单结构
```
📊 控制台首页
  └─ 关键指标概览

👥 业务管理
  ├─ 主播管理
  │   ├─ 主播列表
  │   ├─ 创建主播
  │   └─ 直播间管理
  ├─ 观众管理
  │   ├─ 观众列表
  │   └─ 打赏记录
  ├─ 财务管理
  │   ├─ 提现审核
  │   ├─ 结算查询
  │   └─ 分成配置
  └─ 数据分析
      ├─ 收入分析
      ├─ 排行榜
      └─ 统计报表

🧪 模拟测试
  ├─ 数据生成
  ├─ 批次管理
  └─ 数据统计

🐳 运维管理
  ├─ 部署管理
  │   ├─ 策略选择 (Docker/K8s/原生)
  │   ├─ 服务列表
  │   └─ 服务操作
  ├─ 日志查询
  │   ├─ Docker日志
  │   └─ 应用日志
  └─ 服务监控
      ├─ 健康检查
      └─ 性能指标

⚙️ 系统设置
  ├─ 环境配置
  ├─ 服务配置
  └─ 配置文件管理
```

## 关键特性

### 1. 现代化UI
- 流畅的过渡动画
- 响应式设计
- 深色/浅色主题切换
- 按钮hover特效
- 加载骨架屏

### 2. 实时反馈
- API请求状态展示
- 请求/响应数据预览
- 错误信息友好提示
- 操作结果通知

### 3. 智能化操作
- 表单自动校验
- 操作确认对话框
- 批量操作支持
- 快捷键支持

### 4. 多环境支持
- 环境配置持久化
- 一键切换环境
- 环境隔离保护
- 配置导入导出

## 开发计划

1. **Phase 1**: 后端服务开发（admin-console-service）
2. **Phase 2**: 前端基础框架搭建
3. **Phase 3**: 业务管理功能实现
4. **Phase 4**: 运维管理功能实现
5. **Phase 5**: 测试、优化、部署

## 相关文档

- [前端设计文档](./1-FRONTEND-DESIGN.md)
- [后端API设计文档](./2-BACKEND-API-DESIGN.md)
- [部署管理功能设计](./3-DEPLOYMENT-MANAGEMENT.md) - 支持Docker/K8s/原生部署
- [日志管理功能设计](./4-LOG-MANAGEMENT.md)
- [配置管理功能设计](./5-CONFIG-MANAGEMENT.md)
- [页面原型设计](./6-UI-PROTOTYPE.md)
